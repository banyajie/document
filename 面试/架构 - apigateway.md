#### ApiGateWay

##### 什么是Api网关

> - 单体架构
> - 微服务架构
>   - 微服务优势
>     - 快速响应需求变化
>     - 应用中的每个微服务都可以独立部署、升级、扩展、维护和重启。松耦合。适合敏捷开发
>     - 细粒度
>     - 灵活的技术栈
>   - 挑战
>     - 微服务通信协议的多样性（http、gRpc、thirft、restful）。如果客户端适配所有协议。导致客户端复杂笨重
>     - 每个微服务都要实现基础功能（鉴权、session、日志）
>     - 微服务的拆分、扩容有可能会影响到客户端
>     - 分布式部署、部署依赖、调用链复杂
>     - 独立的数据库、分布式事务
>     - 运维难度
>     - 

##### 为什么引入Api网关？

> 微服务系统的单一入口
>
> 

##### Api网关的作用？

> - 反向代理
> - 路由
> - 协议转化，保证客户端协议单一
> - 通用的公共服务逻辑
>   - 负载均衡
>   - 动态路由
>   - 健康检查
>   - 监控报警
>   - 安全防御
>   - 统一的认证授权、白名单
>   - 服务发现
>   - 限流熔断
>   - 日志、跟踪、可观测性
>   - 流量镜像
>   - 灰度发布、A/B测试、金丝雀发布
>   - 

##### 开源实现

###### Apache APISIX

> 数据平面
>
> - 功能主要为：快速转发
>
> - 在一个路由网关里。转发是最重要的工作，具备最高的优先级。数据平面的设计核心就是高效转发，如何在最短的时间内处理最多的包。往往使用高效的内存管理、队列管理、超时管理等技术实现
> - 以插件的方式，实现流控、认证、安全、日志等微服务网关的核心功能
> - 
>
> 控制平面
>
> - 为快速转发提供必要的信息，功能偏向于控制与应用
> - 已服务与后台的方式，实现数据收集，命令下发，可视化工作台等功能
> - 
>
> 性能
>
> - 

###### KONG

