### 对玩业务2023年上半年复盘总结



##### 上半年工作概览

- 主要工作

  - 版本数：11   需求数：80   技术优化项：5    线上故障复盘：2    活动类需求：15
  - 优化类
    - 成本优化、客户端工程优化、安卓直播间卡顿优化、聊天室挂起等

  - 马甲包
    - 芋泥波波一期、二期（长沙部门支持）

  - 基础搭建

    - 钻石体系、钻石房间建设、钻石房间运营、h5充值、公众号充值、提现等

    - 语音房排麦模式、房间靓号

  - 活动类需求
    - 房间集市、充值活动、花灯活动、女神节、五一活动、转盘类、端午节活动等
  - 风控、后台等
    - 举报、风控场景细化等



##### 总结



- 代码可维护性、服务稳定性、服务扩展性问题
  - 问题
    - 目前对玩大概有100个微服务。主要分为用户基础、家族、房间、直播、金融、礼物、背包、送礼、活动等模块。业务迭代过程以及人员流动交接过程中技术方案文档、接口文档沉淀不足导致很多服务开发人员对业务不熟悉（比如从中台迁移的服务、任务系统等）。在排查线上问题时耗时比较多。并且在有需求迭代时理解不透彻导致线上问题以及不能完美匹配业务需求。
    - 随着微服务的增加，线上资源未同步扩容导致共用（db/redis）导致链接数告警、资源cpu告警等问题
    - 扩展性问题 - 有的业务最初设计时未考虑以后扩展性（cp业务），导致业务迭代中工作改造成本高，费时费力并且各种兼容处理导致代码可读性差
  - 解决方案
    - 梳理业务逻辑，补充技术文档，增加代码注释和接口文档说明
    - 裁剪服务，精简废弃业务逻辑，保证代码逻辑清晰
    - 优化输出日志，提高问题排查效率
    - 技术方案设计阶段，完善流程（方案设计文档、review、反讲）等。尽量提高服务的扩展性。
- 开发效率、提测效率的问题
  - 问题
    - 活动类需求频繁、重复代码多。一些活动类、游戏类测试案例多、测试进度慢。
    - 中大型项目因排期不规范等原因出现延期风险并且同步不到位。
  - 解决方案
    - 构建活动类需求模板（榜单类、集卡类等）。争取活动类需求通过代码复用、可配置等减少开发时间以及线上问题风险。
    - 抽离公共库，统一维护常用sdk避免重复编写
    - 开发常用测试脚本或者后台功能，方便给测试搭建测试场景
    - 规范排期流程，排期过程中细化工作量，细化排期，每日同步检查项目进度，同步各个同学间的延期风险。



##### 规划（Todo）

- 现有服务梳理，梳理业务逻辑，落实设计以及接口文档。
- 整合一些非必要的微服务，精简废弃业务逻辑（kafka消费废弃、推荐业务、直播间车队模式），合并同类业务减少微服务数量，减少代码维护工作量，降低机器成本
- 规范开发流程，方案设计、方案review、反讲、排期等流程。保证技术方案的可行性以及可扩展性。减少线上问题。提高开发人员技术方案设计能力

- 定期复盘总结（项目周会或者月度总结）





总结复盘

亮点 

- 分类
- 个人的总结分析思考
- 务虚、务实 - 可衡量、可量化的目标、指标
- 成本、质量、效率
- 结构化思考
- 演进 - 阶段性目标
